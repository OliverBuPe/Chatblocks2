{
  "mensajesIntroduccion": {
    "type": "listMessages",
    "requerimientos": {
      "01inicial": {
        "nombreVariable": {
          "type": "string",
          "responsible": "DEV",
          "recommended": "var_case",
          "constraints": false,
          "name": "variable de control",
          "description": "nombre que recibe la variable de contador",
          "value": "contador_mensajesIntroduccion"
        },
        "messages": {
          "type": "listDisplay",
          "responsible": "UX",
          "recommended": {
            "content": "hola prueba",
            "type": "text"
          },
          "constraints": false,
          "name": "lista de que se pueden desplegar",
          "description": "mensajes que se depliegan al usuario",
          "value": [
            {
              "content": "¡Hola! Soy Niza.",
              "type": "text"
            },
            {
              "content": "Un asistente virtual para atención ciudadana puedo responder dudas sobre tu agua potable",
              "type": "text"
            },
            {
              "content": "Te gustaría saber cómo utilizarme",
              "type": "text"
            }
          ]
        },
        "defaultMessage": {
          "type": "dictDisplay",
          "responsible": "UX",
          "recommended": {
            "content": "no te entiendo",
            "type": "text"
          },
          "constraints": false,
          "name": "mensaje por defecto",
          "description": "mensaje que se depliega al usuario si ocurre un error en la funcionalidad",
          "value": {
            "content": "No te entiendo",
            "type": "text"
          }
        }
      }
    },
    "outputs": {
      "01inicial": {
        "next": {
          "type": "output",
          "responsible": "UX",
          "recommended": false,
          "constraints": false,
          "name": "siguiente bloque",
          "value": "menuIntroduccion"
        },
        "default": {
          "type": "output",
          "responsible": "UX",
          "recommended": false,
          "constraints": false,
          "name": "salida default",
          "value": "menuIntroduccion"
        }
      }
    },
    "blocks": {
      "01inicial": {
        "inicial": {
          "type": "case",
          "description": "Funciona como un contador que permite limitar el número de intentos al realizar algun proceso",
          "compile": [
            "jsonVariable",
            "url"
          ],
          "parameters": {
            "jsonVariable": "{'variable':{ 'name_var':'{{nombreVariable}}','opc_type': 'Variable','var':0,'opc_data': 'Numerico'}}",
            "method": "GET",
            "typing_messages": 3,
            "url": "http://127.0.0.1:1111/increase/{{nombreVariable}}/",
            "messages": "@messages",
            "default_message": "@defaultMessage",
            "nombreVariable": "@nombreVariable"
          },
          "outputs": {
            "default_id": "@default",
            "last": "restarVariable",
            "salidasCase": "inicial"
          }
        },
        "restarVariable": {
          "type": "internalProcess",
          "description": "bloque para realizar proceso interno del sistema",
          "compile": [
            "url"
          ],
          "parameters": {
            "method": "GET",
            "url": "http://127.0.0.1:1111/restar/{{nombreVariable}}",
            "nombreVariable": "@nombreVariable"
          },
          "outputs": {
            "next_true": "@next",
            "next_false": "@next"
          }
        }
      }
    }
  },
  "menuIntroduccion": {
    "type": "userValidation",
    "requerimientos": {
      "01inicial": {
        "content": {
          "type": "string",
          "responsible": "UX",
          "recommended": false,
          "contador": false,
          "name": "mensaje quickReply",
          "description": "mensaje que se le muesta al usuario en el quickReply",
          "value": "Toca uno de los botones azules para saber tu elección"
        },
        "buttonTrue": {
          "type": "jonButton",
          "responsible": "UX",
          "recommended": false,
          "constraints": false,
          "name": "validacion positiva",
          "description": "boton positivo",
          "value": {
            "title": "¡ok veamos!",
            "next_block": "mensajesIntroduccion2"
          }
        },
        "buttonFalse": {
          "type": "jonButton",
          "responsible": "UX",
          "recommended": false,
          "constraints": false,
          "name": "validacion negativa",
          "description": "boton negativo",
          "value":{
            "title": "Prefiero ir al menú",
            "next_block": "mensajePreMenu"
          }
        },
        "time": {
          "type": "select",
          "responsible": "UX",
          "recommended": 2,
          "constraints": [
            {
              "key": "uno",
              "value": 1
            },
            {
              "key": "dos",
              "value": 2
            },
            {
              "key": "tres",
              "value": 3
            }
          ],
          "name": "Tiempo de espera",
          "description": "tiempo de espera para mostrar el menú",
          "value": 5
        },
        "nombreVariable": {
          "type": "string",
          "responsible": "DEV",
          "recommended": "var_case",
          "constraints": false,
          "name": "variable de control",
          "description": "nombre que recibe la variable de contador",
          "value": "qr_menuIntro"
        }
      }
    },
    "outputs": {
      "01inicial": {
        "default": {
          "type": "output",
          "responsible": "UX",
          "recommended": false,
          "constraints": false,
          "name": "salida default de contador",
          "value": "mensajePreMenu"
        }
      }
    },
    "blocks": {
      "01inicial": {
        "inicial": {
          "type": "@typeVisual",
          "description": "Funciona como un contador que permite limitar el número de intentos al realizar algun proceso",
          "compile": [
            "jsonVariable",
            "json"
          ],
          "parameters": {
            "handlebars": "@jsonMenu",
            "jsonVariable": "{'variable':{ 'name_var':'{{nombreVariable}}','opc_type': 'Variable','var':0,'opc_data': 'Numerico'}}",
            "typingtime": "@time",
            "nombreVariable": "@nombreVariable",
            "json": "{'content':'{{content}}','buttons':[{'title':'{{buttonTrue.title}}','next_block':'{{buttonTrue.next_block}}'},{'title':'{{buttonFalse.title}}','next_block':'{{buttonFalse.next_block}}'}]}",
            "content": "@content",
            "buttonTrue": "@buttonTrue",
            "buttonFalse": "@buttonFalse",
            "typeVisual": "quickReply"
          },
          "outputs": {
            "default_id": "@default"
          }
        }
      }
    }
  },
  "mensajePreMenu": {
    "type": "messageRandom",
    "requerimientos": {
      "01inicial": {
        "nombreVariable": {
          "type": "string",
          "responsible": "DEV",
          "recommended": "var_case",
          "constraints": false,
          "name": "variable de control",
          "description": "nombre que recibe la variable de contador",
          "value": "qrd_mensaje_premenu"
        },
        "messages": {
          "type": "listDisplay",
          "responsible": "UX",
          "recommended": [
            {
              "content": "hola prueba",
              "type": "text"
            }
          ],
          "constraints": false,
          "name": "lista de que se pueden desplegar",
          "description": "mensajes que se depliegan al usuario",
          "value": [
            {
              "content": "¿Ahora en qué puedo ayudarte?",
              "type": "text"
            },
            {
              "content": "¿Cómo puedo ayudarte? ",
              "type": "text"
            },
            {
              "content": "¿Qué te gustaría hacer?",
              "type": "text"
            }
          ]
        },
        "defaultMessage": {
          "type": "dictDisplay",
          "responsible": "UX",
          "recommended": {
            "content": "hola default",
            "type": "text"
          },
          "constraints": false,
          "name": "mensaje por defecto",
          "description": "mensaje que se depliega al usuario si ocurre un error en la funcionalidad",
          "value": {
            "content": "no te entiendo",
            "type": "text"
          }
        }
      }
    },
    "outputs": {
      "01inicial": {
        "next": {
          "type": "output",
          "responsible": "UX",
          "recommended": false,
          "constraints": false,
          "name": "siguiente bloque",
          "value": "mensajesIntroduccion"
        },
        "default": {
          "type": "output",
          "responsible": "UX",
          "recommended": false,
          "constraints": false,
          "name": "salida default",
          "value": "mensajePreMenu"
        }
      }
    },
    "blocks": {
      "01inicial": {
        "inicial": {
          "type": "case",
          "description": "Funciona como un contador que permite limitar el número de intentos al realizar algun proceso",
          "compile": [
            "jsonVariable",
            "url"
          ],
          "parameters": {
            "jsonVariable": "{'variable':{ 'name_var':'{{nombreVariable}}','opc_type': 'Variable','var':0,'opc_data': 'Numerico'}}",
            "method": "GET",
            "typing_messages": 3,
            "url": "http://127.0.0.1:1111/random/{{nombreVariable}}/",
            "messages": "@messages",
            "default_message": "@defaultMessage",
            "nombreVariable": "@nombreVariable"
          },
          "outputs": {
            "default_id": "@default",
            "salidasCase": "@next"
          }
        }
      }
    }
  },
  "mensajesIntroduccion2": {
    "type": "listMessages",
    "requerimientos": {
      "01inicial": {
        "nombreVariable": {
          "type": "string",
          "responsible": "DEV",
          "recommended": "var_case",
          "constraints": false,
          "name": "variable de control",
          "description": "nombre que recibe la variable de contador",
          "value": "mesage_intro2"
        },
        "messages": {
          "type": "listDisplay",
          "responsible": "UX",
          "recommended": {
            "content": "hola prueba",
            "type": "text"
          },
          "constraints": false,
          "name": "lista de que se pueden desplegar",
          "description": "mensajes que se depliegan al usuario",
          "value": [
            {
              "content": "Soy un robot que funciona con un sistema automático llamado inteligencia artificial.",
              "type": "text"
            },
            {
              "content": "Cada vez que escribas intentare entenderte si algo se me dificulta siempre podre contactarte con un humano.",
              "type": "text"
            }
          ]
        },
        "defaultMessage": {
          "type": "dictDisplay",
          "responsible": "UX",
          "recommended": {
            "content": "no te entiendo",
            "type": "text"
          },
          "constraints": false,
          "name": "mensaje por defecto",
          "description": "mensaje que se depliega al usuario si ocurre un error en la funcionalidad",
          "value": {
            "content": "no logro comprenderte",
            "type": "text"
          }
        }
      }
    },
    "outputs": {
      "01inicial": {
        "next": {
          "type": "output",
          "responsible": "UX",
          "recommended": false,
          "constraints": false,
          "name": "siguiente bloque",
          "value": "mensajesIntroduccion"
        },
        "default": {
          "type": "output",
          "responsible": "UX",
          "recommended": false,
          "constraints": false,
          "name": "salida default",
          "value": "mensajesIntroduccion"
        }
      }
    },
    "blocks": {
      "01inicial": {
        "inicial": {
          "type": "case",
          "description": "Funciona como un contador que permite limitar el número de intentos al realizar algun proceso",
          "compile": [
            "jsonVariable",
            "url"
          ],
          "parameters": {
            "jsonVariable": "{'variable':{ 'name_var':'{{nombreVariable}}','opc_type': 'Variable','var':0,'opc_data': 'Numerico'}}",
            "method": "GET",
            "typing_messages": 3,
            "url": "http://127.0.0.1:1111/increase/{{nombreVariable}}/",
            "messages": "@messages",
            "default_message": "@defaultMessage",
            "nombreVariable": "@nombreVariable"
          },
          "outputs": {
            "default_id": "@default",
            "last": "restarVariable",
            "salidasCase": "inicial"
          }
        },
        "restarVariable": {
          "type": "internalProcess",
          "description": "bloque para realizar proceso interno del sistema",
          "compile": [
            "url"
          ],
          "parameters": {
            "method": "GET",
            "url": "http://127.0.0.1:1111/restar/{{nombreVariable}}",
            "nombreVariable": "@nombreVariable"
          },
          "outputs": {
            "next_true": "@next",
            "next_false": "@next"
          }
        }
      }
    }
  }
}